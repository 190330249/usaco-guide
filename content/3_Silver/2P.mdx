---
id: 2P
title: 'Two Pointers'
author: Darren Yao, Qi Wang
prerequisites:
  - sorting-custom
description:
  'Iterating two monotonic pointers across an array to search for a pair of
  indices satisfying some condition in linear time.'
frequency: 2
---

<Problems problems="sample" />

## Resources

<Resources>
	<Resource source="CPH" title="8.1 - Two Pointers" starred>
		solutions to the problems above
	</Resource>
	<Resource source="IUSACO" title="14.1 - Two Pointers">
		above + mention of max subarray sum
	</Resource>
	<Resource
		source="CF"
		title="CF Edu"
		url="https://codeforces.com/edu/course/2/lesson/9"
		starred
	>
		video explanation of two pointers
	</Resource>
</Resources>

<FocusProblem problem="book" />

### Solution - Books

We want to find the longest continuous segment of books that can be read within $t$ minutes. 

To accomplish this, we can define $\texttt{left}$ and $\texttt{right}$ as the start and end of the segment respectively.

For every $\texttt{left}$ index, we need to increase our $\texttt{right}$ pointer until the total time for that segment exceeds $t$.

We will keep track of the total time with $\texttt{cur}$.

Once $\texttt{cur}$ exceeds $t$, we remove the current $\texttt{right}$-indexed book and decrement $\texttt{right}$ by 1.

We will keep track of the max segment size with $\texttt{ans}$, and take the maximum between $\texttt{ans}$ and $\texttt{right} - \texttt{left}$.

We can then remove the $\texttt{left}$-indexed book from $\texttt{cur}$ and increment $\texttt{left}$ by 1.

#### Implementation

<LanguageSection>

<CPPSection>


```cpp
#include <bits/stdc++.h> // see /general/running-code-locally
using namespace std;

using ll = long long;

using vi = vector<int>;
#define pb push_back
#define all(x) begin(x), end(x)
#define sz(x) (int)(x).size()

using pi = pair<int,int>;
#define f first
#define s second
#define mp make_pair

void setIO(string name = "") {
	cin.tie(0)->sync_with_stdio(0); // see /general/fast-io
	if (sz(name)) {
		freopen((name+".in").c_str(), "r", stdin); // see /general/io
		freopen((name+".out").c_str(), "w", stdout);
	}
}

int N, T, A = 0;
vi books;
    
int main() {
    setIO();
    cin >> N >> T;
    books.resize(N);
    for(int i = 0; i < N; i++){
        cin >> books[i];
    }

    int left = 0, right = 0, cur = 0;
    while(left < N && right < N) {
        while(right < N) {
            cur += books[right++];
            if(cur > T) {
                cur -= books[--right]; 
                break;
            }
        }

        A = max(A, right - left);
        cur -= books[left++];
    }

    cout << A;
}
```

</CPPSection>

<JavaSection>

```java
import java.util.*;
import java.io.*;

public class Books {
    static int N, T, A = 0;
    static int[] books;
    public static void main(String[] args) {
        Kattio io = new Kattio();

        N = io.nextInt();
        T = io.nextInt();

        books = new int[N];

        for(int i = 0; i < N; i++) {
            books[i] = io.nextInt();
        }

        int left = 0, right = 0, cur = 0;
        while(left < N && right < N) {
            while(right < N) {
                cur += books[right++];
                if(cur > T) {
                    cur -= books[--right]; 
                    break;
                }
            }

            A = Math.max(A, right - left);
            cur -= books[left++];
        }

        io.println(A);
        io.close();
    }

    CodeSnip{Kattio}
}
```

</JavaSection>

</LanguageSection>

## Problems

<Problems problems="ad" />
