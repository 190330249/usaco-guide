---
id: prefix-sums-2
title: 'Complex Prefix Sums'
author: Darren Yao, Eric Wei, Neo Wang
description: 'Computing range sum queries in constant time over a fixed array.'
prerequisites:
  - intro-sets
frequency: 3
---

export const problems = {
    maxsum: [
		new Problem(
			'CSES',
			'Max Subarray Sum',
			'1643',
			'Easy',
			false,
			['Prefix Sums'],
			'Enumerate the right endpoint while maintaining the lowest prefix sum that currently exists to the left'
		),
	],
	sample2: [
		new Problem(
			'CSES',
			'Forest Queries',
			'1652',
			'Easy',
			false,
			['Prefix Sums'],
			'@B'
		),
	],
	cum2: [
		new Problem(
			'Silver',
			'Painting the Barn',
			'919',
			'Easy',
			false,
			['2D Prefix Sums'],
			'usaco-919'
		),
		new Problem(
			'Gold',
			'Painting the Barn',
			'923',
			'Hard',
			true,
			['2D Prefix Sums', 'Max Subarray Sum'],
			'Treat areas that currently have K-1 layers of paint as having a value of 1, those having K layers of paint as having a value of -1, and the rest as having a value of 0. For each pair of x-coordinates, find the maximum subrectangle whose left side is located at the first x-coordinate and the right side is located at the second x-coordinate. This can be done with maximum subarray sum and prefix sums of each row. Do something similar with each pair of y-coordinates (fixing the top and bottom of the rectangle). Also notice that whenever two disjoint rectangles are drawn, there always exists a horizontal or vertical line separating them. Enumerate the location of the line, and find maximum subrectangle of each side using the information that we precalculated.'
		),
		new Problem(
			'Silver',
			'Rectangular Pasture',
			'1063',
			'Hard',
			false,
			['2D Prefix Sums'],
			''
		),
		new Problem(
			'Plat',
			'Modern Art',
			'744',
			'Very Hard',
			false,
			['2D Prefix Sums'],
			''
		),
	],
	related: [
		new Problem(
			'Silver',
			'My Cow Ate My Homework',
			'762',
			'Easy',
			false,
			['Prefix Sums'],
			'Enumerate, from right to left, the last question eaten. The problem is reduced to suffix minimums.'
		),
		new Problem(
			'CSES',
			'Range XOR Queries',
			'1650',
			'Easy',
			false,
			['Prefix Sums'],
			'cses-1650'
		),
	],
	complex: [
		new Problem(
			'KS@Google KickStart',
			'Candies (Test Set 1)',
			'https://codingcompetitions.withgoogle.com/kickstart/round/000000000019ff43/0000000000337b4d',
			'Easy',
			false,
			['Prefix Sums'],
			'kickstart-20-c-candies'
		),
		new Problem(
			'AC',
			'Multiple of 2019',
			'https://atcoder.jp/contests/abc164/tasks/abc164_d',
			'Hard',
			false,
			['Prefix Sums'],
			"Make use of the fact that adding 0's to the end of a number does not affect whether it is a multiple of 2019 (because 10 and 2019 are coprime)."
		),
		new Problem(
			'Plat',
			'Sprinklers',
			'794',
			'Insane',
			false,
			['Prefix Sums'],
			''
		),
	],
};