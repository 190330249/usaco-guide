---
id: usaco-712
source: USACO Bronze 2017 February
title: Why Did the Cow Cross the Road II
author: Benjamin Qi, Danh Ta Chi Thanh
---

[Official Analysis](http://www.usaco.org/current/data/sol_circlecross_bronze_feb17.html)

Another approach is that we find the number of pairs `(cow_1,cow_2)` such that the first cow comes before the second cow but leaves before the second cow does that (assuming without loss of generality that the 52-character string represents the entry and exit points of the cow in alphabetical way). In other word, we define `a`,`b`,`c`,`d` as the entry and exit points of the two cows, respectively, and we have to counts the number of `(a,b,c,d)`s such that `a<b<c<d` and $s[a] = s[c]$, $s[b] = s[d]$ (see the code implementation below for better understanding).

<LanguageSection>

<CPPSection>

## C++ Implementation

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
	ios_base::sync_with_stdio(0); cin.tie(0);
	freopen("circlecross.in","r",stdin);
	freopen("circlecross.out","w",stdout);
	string s; cin >> s;
	int ans = 0;
	for (int a = 0; a < s.size(); ++a) 
		for (int b = a+1; b < s.size(); ++b) 
			for (int c = b+1; c < s.size(); ++c) 
				for (int d = c+1; d < s.size(); ++d) 
					ans += s[a] == s[c] && s[b] == s[d];
	cout << ans;
	return 0;
}
```

</CPPSection>

</LanguageSection>
