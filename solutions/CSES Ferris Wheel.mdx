---
id: cses-1090
source: CSES
title: Ferris Wheel
author: Kenny Cho, Danh Ta Chi Thanh
---

## Solution

[Unofficial Editorial](https://codeforces.com/blog/entry/83295)

## Solution 1 - Start with heaviest

For each gondola, we can either 1) pair the heaviest child with another child, or 2) only include the heaviest child.

Hence, we check if the sum of the weights of the lightest and heaviest child exceeds the weight limit. If it doesn't, they can go on the same gondola. 

**Time Complexity:** $\mathcal{O}(n\log n)$ (from sorting)

<LanguageSection>

<CPPSection>

```cpp
#include <iostream>
#include <algorithm>

using namespace std;

int n, x, p[200000], num = 0;

int main() {
    cin >> n >> x;
    for (int i = 0; i < n; i++) cin >> p[i];

    sort(p, p + n); // Sort the weights from lightest to heaviest

    int min_i = 0, max_i = n - 1;
    while (min_i <= max_i) {
        if (p[min_i] + p[max_i] <= x) min_i++; // If possible, pair lightest child with heaviest, move to next lightest child
        num++, max_i--; // Increment number of gondolas, move to next heaviest child
    }

    cout << num << endl;
    return 0;
}
``` 

</CPPSection>

</LanguageSection>

## Solution 2 - Start with lightest

We could also start with the lightest child and pair it with the heaviest child possible. Afterwards, we give each leftover child their own gondola.

**Time Complexity:** $\mathcal{O}(n\log n)$ (from sorting)

```cpp
#include <bits/stdc++.h>

using namespace std;

//constant initialization
const int maxn=2e5+10;
 
//variables used for the current problem
int n,x,p[maxn],i,j,ans; 
bool have_gondola_yet[maxn]; //A boolean array which counts the number of children who have had their own bondola
 
void solve() {
	cin >> n >> x;
	for (int i=0;i<n;++i) cin >> p[i];
	sort(p,p+n);
	i=0;j=n-1;
	while (i<j){
		if (p[i]+p[j]>x){ 
			//If the total weight of two children exceeds x
			//Then we move to the lighter child.
			--j; 
		}
		else{ //If it satisfies the condition.
			++ans; //Increment the number of gondolas used
			//Mark that they have had their gondola
			have_gondola_yet[i]=have_gondola_yet[j]=true;
			++i; --j; //Move to the next children.
		}
	}
	for (int i=0;i<n;++i){
		//Calculate the number of children not having gondolas yet
		//to get the total number of gondolas needed for the problem.
		ans+= have_gondola_yet[i] == false;
	}
	cout << ans << "\n";
}

int main(){
	ios_base::sync_with_stdio(false);
	cin.tie(nullptr);
	solve();
	return 0;
}
``` 
